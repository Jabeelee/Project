<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.camflex.client.reservation.dao.ReservationDAO">
	
	<!-- 실시간 예약 생성 -->
	<insert id="create" parameterType="reservation">
		<selectKey keyProperty="r_number" resultType="int" order="BEFORE">
			select reservation_seq.NEXTVAL 
			FROM dual 
		</selectKey>
		INSERT INTO reservation_tbl(r_number, m_id, p_number, r_startdate, r_enddate, r_price, r_state, c_agree, p_u_agree, p_i_agree, a_agree)
		VALUES(#{r_number}, #{m_id}, #{p_number}, #{r_startDate}, #{r_endDate}, #{r_price}, #{r_state}, #{c_agree}, #{p_u_agree}, #{p_i_agree}, #{a_agree})
	</insert>
	
</mapper>