package com.camflex.client.login.service;

import javax.inject.Inject;
import javax.servlet.http.HttpSession;

import org.springframework.stereotype.Service;

import com.camflex.client.login.dao.LoginDAO;
import com.camflex.client.login.vo.LoginVO;
import com.camflex.client.member.vo.MemberVO;

@Service // 현재 클래스를 스프링에서 관리하는 Service bean으로 등록

public class LoginServiceImpl implements LoginService {

	@Inject
	LoginDAO loginDAO;

	// 회원 로그인 체크
	@Override
	public boolean loginCheck(LoginVO lvo, HttpSession session) {
		boolean result = loginDAO.loginCheck(lvo);
		if (result) {// turn일 경우 세션에 등록
			LoginVO lvo2 = viewLogin(lvo);
			// 세션 변수 등록
			session.setAttribute("m_id", lvo2.getM_id());
			session.setAttribute("m_name", lvo2.getM_name());

		}
		return result;
	}

	// 회원 로그인 정보
	@Override
	public LoginVO viewLogin(LoginVO lvo) {
		return loginDAO.viewLogin(lvo);
	}

	

}
